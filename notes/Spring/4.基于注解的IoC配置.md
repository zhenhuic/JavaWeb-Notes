# 基于注解的IoC配置

## XML的配置

```xml
<bean id="accountService" class="com.itheima.service.impl.AccountServiceImpl" scope="prototype" init-method="" destroy-method="">
    <property name="" value="" | ref=""/>
</bean>
```

## 配置IoC的注解（四类）

1. 用于创建对象的：

   作用与在xml配置文件中的编写一个bean标签实现的功能一样；

2. 用于注入数据的：

   作用与在bean标签中写一个property标签的作用是一样的；

3. 用于改变作用范围的：

   作用与在bean标签中使用的scope属性实现的功能一样；

4. 和生命周期相关：

   作用与bean标签中使用的init-method和destroy-method作用一样。

## 创建对象的注解

1. 修改xml文件中的约束，配置context:component-scan标签，告知spring在创建容器时要扫描的包，配置所需要的标签不在beans的约束中，而是一个名称为context命名空间和约束中。

```xml
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd">
    
    <!--告知spring在创建容器时要扫描的包-->
    <context:component-scan base-package="com.itheima"/>
</beans>
```

2. Component注解

```java
@Component(value = "accountService")
public class AccountServiceImpl implements IAccountService {
    @Override
    public void saveAccount() {
        System.out.println("保存账户");
    }
}
```

3. 另外三个注解：

   - Controller：一般用在表现层；

   - Service：一般用在业务层；

   - Repository：一般用在持久层。

   以上三个注解他们的作用和属性与Component是一模一样的，这三个是spring框架为我们提供明确的三层使用的注解，使我们的三层对象更加清晰。

## 注入数据的注解







